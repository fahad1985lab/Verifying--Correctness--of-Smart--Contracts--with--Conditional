<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationBitcoinScripts.hoareTriple</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>

<a id="35" class="Keyword">module</a> <a id="42" href="verificationBitcoinScripts.hoareTriple.html" class="Module">verificationBitcoinScripts.hoareTriple</a> <a id="81" class="Symbol">(</a><a id="82" href="verificationBitcoinScripts.hoareTriple.html#82" class="Bound">param</a> <a id="88" class="Symbol">:</a> <a id="90" href="basicBitcoinDataType.html#1053" class="Record">GlobalParameters</a><a id="106" class="Symbol">)</a> <a id="108" class="Keyword">where</a>

<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="137" class="Keyword">renaming</a> <a id="146" class="Symbol">(</a><a id="147" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="151" class="Symbol">to</a> <a id="154" class="Datatype Operator">_≤&#39;_</a> <a id="159" class="Symbol">;</a> <a id="161" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a> <a id="165" class="Symbol">to</a> <a id="168" class="Function Operator">_&lt;&#39;_</a><a id="172" class="Symbol">)</a>
<a id="174" class="Keyword">open</a> <a id="179" class="Keyword">import</a> <a id="186" href="Data.List.html" class="Module">Data.List</a> <a id="196" class="Keyword">hiding</a> <a id="203" class="Symbol">(</a><a id="204" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="208" class="Symbol">)</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="277" class="Keyword">hiding</a> <a id="284" class="Symbol">(</a><a id="285" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="288" class="Symbol">)</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="336" class="Keyword">hiding</a> <a id="343" class="Symbol">(</a><a id="344" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="348" class="Symbol">;</a> <a id="350" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="364" class="Symbol">)</a> <a id="366" class="Keyword">renaming</a> <a id="375" class="Symbol">(</a><a id="376" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="380" class="Symbol">to</a> <a id="383" class="Function Operator">_∧b_</a> <a id="388" class="Symbol">;</a> <a id="390" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="394" class="Symbol">to</a> <a id="397" class="Function Operator">_∨b_</a> <a id="402" class="Symbol">;</a> <a id="404" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="406" class="Symbol">to</a> <a id="409" class="Function">True</a><a id="413" class="Symbol">)</a>
<a id="415" class="Keyword">open</a> <a id="420" class="Keyword">import</a> <a id="427" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="442" class="Keyword">hiding</a> <a id="449" class="Symbol">(</a><a id="450" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="454" class="Symbol">;</a> <a id="456" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="470" class="Symbol">)</a> <a id="472" class="Keyword">renaming</a> <a id="481" class="Symbol">(</a><a id="482" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="486" class="Symbol">to</a> <a id="489" class="Function Operator">_∧b_</a> <a id="494" class="Symbol">;</a> <a id="496" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="500" class="Symbol">to</a> <a id="503" class="Function Operator">_∨b_</a> <a id="508" class="Symbol">;</a> <a id="510" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="512" class="Symbol">to</a> <a id="515" class="Function">True</a><a id="519" class="Symbol">)</a>
<a id="521" class="Keyword">open</a> <a id="526" class="Keyword">import</a> <a id="533" href="Data.Product.html" class="Module">Data.Product</a> <a id="546" class="Keyword">renaming</a> <a id="555" class="Symbol">(</a><a id="556" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="560" class="Symbol">to</a> <a id="563" class="InductiveConstructor Operator">_,,_</a> <a id="568" class="Symbol">)</a>
<a id="570" class="Keyword">open</a> <a id="575" class="Keyword">import</a> <a id="582" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="596" class="Keyword">hiding</a> <a id="603" class="Symbol">(</a><a id="604" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a><a id="607" class="Symbol">)</a>


<a id="611" class="Keyword">import</a> <a id="618" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="656" class="Symbol">as</a> <a id="659" class="Module">Eq</a>
<a id="662" class="Keyword">open</a> <a id="667" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="670" class="Keyword">using</a> <a id="676" class="Symbol">(</a><a id="677" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="680" class="Symbol">;</a> <a id="682" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="686" class="Symbol">;</a> <a id="688" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="692" class="Symbol">;</a> <a id="694" class="Keyword">module</a> <a id="701" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="712" class="Symbol">;</a> <a id="714" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="717" class="Symbol">)</a>
<a id="719" class="Keyword">open</a> <a id="724" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>



<a id="773" class="Keyword">open</a> <a id="778" class="Keyword">import</a> <a id="785" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="805" class="Keyword">open</a> <a id="810" class="Keyword">import</a> <a id="817" href="stack.html" class="Module">stack</a>
<a id="823" class="Keyword">open</a> <a id="828" class="Keyword">import</a> <a id="835" href="instruction.html" class="Module">instruction</a>
<a id="847" class="Keyword">open</a> <a id="852" class="Keyword">import</a> <a id="859" href="verificationBitcoinScripts.ifStack.html" class="Module">verificationBitcoinScripts.ifStack</a>
<a id="894" class="Keyword">open</a> <a id="899" class="Keyword">import</a> <a id="906" href="verificationBitcoinScripts.state.html" class="Module">verificationBitcoinScripts.state</a>
<a id="939" class="Keyword">open</a> <a id="944" class="Keyword">import</a> <a id="951" href="verificationBitcoinScripts.predicate.html" class="Module">verificationBitcoinScripts.predicate</a>
<a id="988" class="Keyword">open</a> <a id="993" class="Keyword">import</a> <a id="1000" href="verificationBitcoinScripts.semanticsInstructions.html" class="Module">verificationBitcoinScripts.semanticsInstructions</a> <a id="1049" href="verificationBitcoinScripts.hoareTriple.html#82" class="Bound">param</a>







<a id="_&lt;_&gt;_"></a><a id="1062" href="verificationBitcoinScripts.hoareTriple.html#1062" class="Function Operator">_&lt;_&gt;_</a>  <a id="1069" class="Symbol">:</a> <a id="1071" href="verificationBitcoinScripts.predicate.html#933" class="Function">BPredicate</a> <a id="1082" class="Symbol">→</a>  <a id="1085" href="instruction.html#1861" class="Function">BitcoinScript</a> <a id="1099" class="Symbol">→</a>  <a id="1102" href="verificationBitcoinScripts.predicate.html#933" class="Function">BPredicate</a> <a id="1113" class="Symbol">→</a>  <a id="1116" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1120" href="verificationBitcoinScripts.hoareTriple.html#1120" class="Bound">ϕ</a> <a id="1122" href="verificationBitcoinScripts.hoareTriple.html#1062" class="Function Operator">&lt;</a> <a id="1124" href="verificationBitcoinScripts.hoareTriple.html#1124" class="Bound">P</a> <a id="1126" href="verificationBitcoinScripts.hoareTriple.html#1062" class="Function Operator">&gt;</a> <a id="1128" href="verificationBitcoinScripts.hoareTriple.html#1128" class="Bound">ψ</a> <a id="1130" class="Symbol">=</a> <a id="1132" class="Symbol">(</a><a id="1133" href="verificationBitcoinScripts.hoareTriple.html#1133" class="Bound">s</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="verificationBitcoinScripts.state.html#946" class="Record">State</a><a id="1142" class="Symbol">)</a> <a id="1144" class="Symbol">→</a> <a id="1146" href="verificationBitcoinScripts.hoareTriple.html#409" class="Function">True</a> <a id="1151" class="Symbol">(</a><a id="1152" href="verificationBitcoinScripts.hoareTriple.html#1120" class="Bound">ϕ</a> <a id="1154" href="verificationBitcoinScripts.hoareTriple.html#1133" class="Bound">s</a><a id="1155" class="Symbol">)</a> <a id="1157" class="Symbol">→</a> <a id="1159" href="verificationBitcoinScripts.hoareTriple.html#409" class="Function">True</a><a id="1163" class="Symbol">(</a> <a id="1165" class="Symbol">(</a><a id="1166" href="verificationBitcoinScripts.hoareTriple.html#1128" class="Bound">ψ</a> <a id="1168" href="libraries.maybeLib.html#1307" class="Function Operator">⁺ᵇ</a><a id="1170" class="Symbol">)</a> <a id="1172" class="Symbol">(</a> <a id="1174" href="verificationBitcoinScripts.semanticsInstructions.html#4869" class="Function Operator">⟦</a> <a id="1176" href="verificationBitcoinScripts.hoareTriple.html#1124" class="Bound">P</a> <a id="1178" href="verificationBitcoinScripts.semanticsInstructions.html#4869" class="Function Operator">⟧</a> <a id="1180" href="verificationBitcoinScripts.hoareTriple.html#1133" class="Bound">s</a><a id="1181" class="Symbol">))</a>


<a id="1186" class="Keyword">record</a> <a id="&lt;_&gt;ⁱᶠᶠ_&lt;_&gt;"></a><a id="1193" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;_&gt;ⁱᶠᶠ_&lt;_&gt;</a>  <a id="1205" class="Symbol">(</a><a id="1206" href="verificationBitcoinScripts.hoareTriple.html#1206" class="Bound">P</a> <a id="1208" class="Symbol">:</a> <a id="1210" href="verificationBitcoinScripts.predicate.html#980" class="Function">Predicate</a><a id="1219" class="Symbol">)(</a><a id="1221" href="verificationBitcoinScripts.hoareTriple.html#1221" class="Bound">p</a> <a id="1223" class="Symbol">:</a> <a id="1225" href="instruction.html#1861" class="Function">BitcoinScript</a><a id="1238" class="Symbol">)(</a><a id="1240" href="verificationBitcoinScripts.hoareTriple.html#1240" class="Bound">Q</a> <a id="1242" class="Symbol">:</a> <a id="1244" href="verificationBitcoinScripts.predicate.html#980" class="Function">Predicate</a><a id="1253" class="Symbol">)</a> <a id="1255" class="Symbol">:</a> <a id="1257" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1261" class="Keyword">where</a>
  <a id="1269" class="Keyword">constructor</a> <a id="hoare3"></a><a id="1281" href="verificationBitcoinScripts.hoareTriple.html#1281" class="InductiveConstructor">hoare3</a>
  <a id="1290" class="Keyword">field</a>
    <a id="&lt;_&gt;ⁱᶠᶠ_&lt;_&gt;.==&gt;"></a><a id="1300" href="verificationBitcoinScripts.hoareTriple.html#1300" class="Field">==&gt;</a> <a id="1304" class="Symbol">:</a> <a id="1306" class="Symbol">(</a><a id="1307" href="verificationBitcoinScripts.hoareTriple.html#1307" class="Bound">s</a> <a id="1309" class="Symbol">:</a> <a id="1311" href="verificationBitcoinScripts.state.html#946" class="Record">State</a><a id="1316" class="Symbol">)</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="verificationBitcoinScripts.hoareTriple.html#1206" class="Bound">P</a> <a id="1322" href="verificationBitcoinScripts.hoareTriple.html#1307" class="Bound">s</a> <a id="1324" class="Symbol">→</a> <a id="1326" class="Symbol">(</a><a id="1327" href="verificationBitcoinScripts.hoareTriple.html#1240" class="Bound">Q</a> <a id="1329" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="1330" class="Symbol">)</a> <a id="1332" class="Symbol">(</a><a id="1333" href="verificationBitcoinScripts.semanticsInstructions.html#4869" class="Function Operator">⟦</a> <a id="1335" href="verificationBitcoinScripts.hoareTriple.html#1221" class="Bound">p</a> <a id="1337" href="verificationBitcoinScripts.semanticsInstructions.html#4869" class="Function Operator">⟧</a> <a id="1339" href="verificationBitcoinScripts.hoareTriple.html#1307" class="Bound">s</a> <a id="1341" class="Symbol">)</a>
    <a id="&lt;_&gt;ⁱᶠᶠ_&lt;_&gt;.&lt;=="></a><a id="1347" href="verificationBitcoinScripts.hoareTriple.html#1347" class="Field">&lt;==</a> <a id="1351" class="Symbol">:</a> <a id="1353" class="Symbol">(</a><a id="1354" href="verificationBitcoinScripts.hoareTriple.html#1354" class="Bound">s</a> <a id="1356" class="Symbol">:</a> <a id="1358" href="verificationBitcoinScripts.state.html#946" class="Record">State</a><a id="1363" class="Symbol">)</a> <a id="1365" class="Symbol">→</a> <a id="1367" class="Symbol">(</a><a id="1368" href="verificationBitcoinScripts.hoareTriple.html#1240" class="Bound">Q</a> <a id="1370" href="libraries.maybeLib.html#1221" class="Function Operator">⁺</a><a id="1371" class="Symbol">)</a> <a id="1373" class="Symbol">(</a><a id="1374" href="verificationBitcoinScripts.semanticsInstructions.html#4869" class="Function Operator">⟦</a> <a id="1376" href="verificationBitcoinScripts.hoareTriple.html#1221" class="Bound">p</a> <a id="1378" href="verificationBitcoinScripts.semanticsInstructions.html#4869" class="Function Operator">⟧</a> <a id="1380" href="verificationBitcoinScripts.hoareTriple.html#1354" class="Bound">s</a> <a id="1382" class="Symbol">)</a> <a id="1384" class="Symbol">→</a> <a id="1386" href="verificationBitcoinScripts.hoareTriple.html#1206" class="Bound">P</a> <a id="1388" href="verificationBitcoinScripts.hoareTriple.html#1354" class="Bound">s</a>

<a id="1391" class="Keyword">open</a> <a id="1396" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Module Operator">&lt;_&gt;ⁱᶠᶠ_&lt;_&gt;</a>  <a id="1408" class="Keyword">public</a>


</pre></body></html>