<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>verificationBitcoinScripts.ifThenElseTheorem</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda">

<a id="3" class="Keyword">open</a> <a id="8" class="Keyword">import</a> <a id="15" href="basicBitcoinDataType.html" class="Module">basicBitcoinDataType</a>
<a id="36" class="Keyword">module</a> <a id="43" href="verificationBitcoinScripts.ifThenElseTheorem.html" class="Module">verificationBitcoinScripts.ifThenElseTheorem</a> <a id="88" class="Symbol">(</a><a id="89" href="verificationBitcoinScripts.ifThenElseTheorem.html#89" class="Bound">param</a> <a id="95" class="Symbol">:</a> <a id="97" href="basicBitcoinDataType.html#1053" class="Record">GlobalParameters</a><a id="113" class="Symbol">)</a> <a id="115" class="Keyword">where</a>

<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="libraries.listLib.html" class="Module">libraries.listLib</a>
<a id="152" class="Keyword">open</a> <a id="157" class="Keyword">import</a> <a id="164" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="179" class="Keyword">hiding</a> <a id="186" class="Symbol">(</a><a id="187" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="191" class="Symbol">)</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="libraries.natLib.html" class="Module">libraries.natLib</a>
<a id="222" class="Keyword">open</a> <a id="227" class="Keyword">import</a> <a id="234" href="Data.Nat.html" class="Module">Data.Nat</a>  <a id="244" class="Keyword">renaming</a> <a id="253" class="Symbol">(</a><a id="254" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="258" class="Symbol">to</a> <a id="261" class="Datatype Operator">_≤&#39;_</a> <a id="266" class="Symbol">;</a> <a id="268" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a> <a id="272" class="Symbol">to</a> <a id="275" class="Function Operator">_&lt;&#39;_</a><a id="279" class="Symbol">)</a>
<a id="281" class="Keyword">open</a> <a id="286" class="Keyword">import</a> <a id="293" href="Data.List.html" class="Module">Data.List</a> <a id="303" class="Keyword">hiding</a> <a id="310" class="Symbol">(</a><a id="311" href="Data.List.Base.html#1810" class="Function Operator">_++_</a><a id="315" class="Symbol">)</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Data.Unit.html" class="Module">Data.Unit</a>  <a id="361" class="Keyword">hiding</a> <a id="368" class="Symbol">(</a><a id="369" href="Data.Unit.Base.html#1023" class="Record Operator">_≤_</a><a id="372" class="Symbol">)</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Bool.html" class="Module">Data.Bool</a>  <a id="420" class="Keyword">hiding</a> <a id="427" class="Symbol">(</a><a id="428" href="Data.Bool.Base.html#672" class="Datatype Operator">_≤_</a> <a id="432" class="Symbol">;</a> <a id="434" href="Data.Bool.Base.html#751" class="Datatype Operator">_&lt;_</a> <a id="438" class="Symbol">;</a> <a id="440" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a> <a id="454" class="Symbol">)</a> <a id="456" class="Keyword">renaming</a> <a id="465" class="Symbol">(</a><a id="466" href="Data.Bool.Base.html#986" class="Function Operator">_∧_</a> <a id="470" class="Symbol">to</a> <a id="473" class="Function Operator">_∧b_</a> <a id="478" class="Symbol">;</a> <a id="480" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a> <a id="484" class="Symbol">to</a> <a id="487" class="Function Operator">_∨b_</a> <a id="492" class="Symbol">;</a> <a id="494" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="496" class="Symbol">to</a> <a id="499" class="Function">True</a><a id="503" class="Symbol">)</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.Product.html" class="Module">Data.Product</a> <a id="530" class="Keyword">renaming</a> <a id="539" class="Symbol">(</a><a id="540" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="544" class="Symbol">to</a> <a id="547" class="InductiveConstructor Operator">_,,_</a> <a id="552" class="Symbol">)</a>
<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="580" class="Keyword">hiding</a> <a id="587" class="Symbol">(</a><a id="588" href="Data.Nat.Base.html#1535" class="Datatype Operator">_≤_</a> <a id="592" class="Symbol">;</a> <a id="594" href="Data.Nat.Base.html#1645" class="Function Operator">_&lt;_</a><a id="597" class="Symbol">)</a>
<a id="599" class="Keyword">open</a> <a id="604" class="Keyword">import</a> <a id="611" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="630" class="Keyword">hiding</a> <a id="637" class="Symbol">(</a><a id="638" href="Data.List.NonEmpty.Base.html#1141" class="Field">head</a><a id="642" class="Symbol">)</a>
<a id="644" class="Keyword">open</a> <a id="649" class="Keyword">import</a> <a id="656" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="665" class="Keyword">using</a> <a id="671" class="Symbol">(</a><a id="672" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="673" class="Symbol">;</a> <a id="675" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="678" class="Symbol">;</a> <a id="680" href="Data.Nat.Base.html#1679" class="Function Operator">_≥_</a><a id="683" class="Symbol">;</a> <a id="685" href="Data.Nat.Base.html#1709" class="Function Operator">_&gt;_</a><a id="688" class="Symbol">;</a> <a id="690" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="694" class="Symbol">;</a> <a id="696" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="699" class="Symbol">;</a> <a id="701" href="Data.Nat.Base.html#1600" class="InductiveConstructor">s≤s</a><a id="704" class="Symbol">;</a> <a id="706" href="Data.Nat.Base.html#1558" class="InductiveConstructor">z≤n</a><a id="709" class="Symbol">)</a>
<a id="711" class="Keyword">import</a> <a id="718" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="756" class="Symbol">as</a> <a id="759" class="Module">Eq</a>
<a id="762" class="Keyword">open</a> <a id="767" href="Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="770" class="Keyword">using</a> <a id="776" class="Symbol">(</a><a id="777" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="780" class="Symbol">;</a> <a id="782" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="786" class="Symbol">;</a> <a id="788" href="Relation.Binary.PropositionalEquality.Core.html#1130" class="Function">cong</a><a id="792" class="Symbol">;</a> <a id="794" class="Keyword">module</a> <a id="801" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a><a id="812" class="Symbol">;</a> <a id="814" href="Relation.Binary.PropositionalEquality.Core.html#1684" class="Function">sym</a><a id="817" class="Symbol">)</a>
<a id="819" class="Keyword">open</a> <a id="824" href="Relation.Binary.PropositionalEquality.Core.html#2708" class="Module">≡-Reasoning</a>
<a id="836" class="Keyword">open</a> <a id="841" class="Keyword">import</a> <a id="848" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>


<a id="872" class="Keyword">open</a> <a id="877" class="Keyword">import</a> <a id="884" href="libraries.andLib.html" class="Module">libraries.andLib</a>
<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="libraries.maybeLib.html" class="Module">libraries.maybeLib</a>

<a id="933" class="Keyword">open</a> <a id="938" class="Keyword">import</a> <a id="945" href="stack.html" class="Module">stack</a>
<a id="951" class="Keyword">open</a> <a id="956" class="Keyword">import</a> <a id="963" href="stackPredicate.html" class="Module">stackPredicate</a>
<a id="978" class="Keyword">open</a> <a id="983" class="Keyword">import</a> <a id="990" href="instruction.html" class="Module">instruction</a>


<a id="1004" class="Keyword">open</a> <a id="1009" class="Keyword">import</a> <a id="1016" href="verificationBitcoinScripts.ifStack.html" class="Module">verificationBitcoinScripts.ifStack</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="verificationBitcoinScripts.state.html" class="Module">verificationBitcoinScripts.state</a>
<a id="1096" class="Keyword">open</a> <a id="1101" class="Keyword">import</a> <a id="1108" href="verificationBitcoinScripts.predicate.html" class="Module">verificationBitcoinScripts.predicate</a>
<a id="1145" class="Keyword">open</a> <a id="1150" class="Keyword">import</a> <a id="1157" href="verificationBitcoinScripts.semanticsInstructions.html" class="Module">verificationBitcoinScripts.semanticsInstructions</a> <a id="1206" href="verificationBitcoinScripts.ifThenElseTheorem.html#89" class="Bound">param</a>
<a id="1212" class="Keyword">open</a> <a id="1217" class="Keyword">import</a> <a id="1224" href="verificationBitcoinScripts.hoareTriple.html" class="Module">verificationBitcoinScripts.hoareTriple</a> <a id="1263" href="verificationBitcoinScripts.ifThenElseTheorem.html#89" class="Bound">param</a>



<a id="1272" class="Keyword">record</a>  <a id="AssumptionIfThenElse"></a><a id="1280" href="verificationBitcoinScripts.ifThenElseTheorem.html#1280" class="Record">AssumptionIfThenElse</a> <a id="1301" class="Symbol">(</a><a id="1302" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a> <a id="1311" class="Symbol">:</a> <a id="1313" href="verificationBitcoinScripts.ifStack.html#683" class="Function">IfStack</a><a id="1320" class="Symbol">)</a>
                          <a id="1348" class="Symbol">(</a><a id="1349" href="verificationBitcoinScripts.ifThenElseTheorem.html#1349" class="Bound">φtrue</a> <a id="1355" href="verificationBitcoinScripts.ifThenElseTheorem.html#1355" class="Bound">φfalse</a> <a id="1362" href="verificationBitcoinScripts.ifThenElseTheorem.html#1362" class="Bound">ψ</a> <a id="1364" class="Symbol">:</a> <a id="1366" href="stackPredicate.html#911" class="Function">StackPredicate</a><a id="1380" class="Symbol">)</a>
                          <a id="1408" class="Symbol">(</a><a id="1409" href="verificationBitcoinScripts.ifThenElseTheorem.html#1409" class="Bound">ifCaseProg</a> <a id="1420" href="verificationBitcoinScripts.ifThenElseTheorem.html#1420" class="Bound">elseCaseProg</a> <a id="1433" class="Symbol">:</a> <a id="1435" href="instruction.html#1861" class="Function">BitcoinScript</a><a id="1448" class="Symbol">)</a> <a id="1450" class="Symbol">:</a> <a id="1452" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1456" class="Keyword">where</a>
   <a id="1465" class="Keyword">constructor</a> <a id="assumptionIfThenElse"></a><a id="1477" href="verificationBitcoinScripts.ifThenElseTheorem.html#1477" class="InductiveConstructor">assumptionIfThenElse</a>
   <a id="1501" class="Keyword">field</a>
<a id="1507" class="Comment">-- everything works only if the ifStack₁ is that this ifthenelse is executed:</a>

      <a id="AssumptionIfThenElse.activeIfStack"></a><a id="1592" href="verificationBitcoinScripts.ifThenElseTheorem.html#1592" class="Field">activeIfStack</a> <a id="1606" class="Symbol">:</a> <a id="1608" href="verificationBitcoinScripts.ifStack.html#1125" class="Function">IsActiveIfStack</a> <a id="1624" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a>

<a id="1634" class="Comment">-- Two conditions to be shown for the ifCaseProg</a>
                      
      <a id="AssumptionIfThenElse.ifCaseDo"></a><a id="1712" href="verificationBitcoinScripts.ifThenElseTheorem.html#1712" class="Field">ifCaseDo</a>   <a id="1723" class="Symbol">:</a> 
                    <a id="1746" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="1748" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="1767" href="verificationBitcoinScripts.ifThenElseTheorem.html#1349" class="Bound">φtrue</a> <a id="1773" class="Symbol">(</a><a id="1774" href="verificationBitcoinScripts.ifStack.html#618" class="InductiveConstructor">ifCase</a> <a id="1781" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1783" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="1791" class="Symbol">)</a> <a id="1793" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;ⁱᶠᶠ</a>
                      <a id="1820" href="verificationBitcoinScripts.ifThenElseTheorem.html#1409" class="Bound">ifCaseProg</a>
                    <a id="1851" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="1853" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="1872" href="verificationBitcoinScripts.ifThenElseTheorem.html#1362" class="Bound">ψ</a> <a id="1874" class="Symbol">(</a><a id="1875" href="verificationBitcoinScripts.ifStack.html#618" class="InductiveConstructor">ifCase</a> <a id="1882" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1884" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="1892" class="Symbol">)</a>   <a id="1896" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;</a>
                    

      <a id="AssumptionIfThenElse.ifCaseSkip"></a><a id="1926" href="verificationBitcoinScripts.ifThenElseTheorem.html#1926" class="Field">ifCaseSkip</a> <a id="1937" class="Symbol">:</a>  <a id="1940" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="1942" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="1961" href="verificationBitcoinScripts.ifThenElseTheorem.html#1355" class="Bound">φfalse</a>  <a id="1969" class="Symbol">(</a><a id="1970" href="verificationBitcoinScripts.ifStack.html#634" class="InductiveConstructor">ifSkip</a> <a id="1977" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1979" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="1987" class="Symbol">)</a> <a id="1989" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;ⁱᶠᶠ</a>
                      <a id="2016" href="verificationBitcoinScripts.ifThenElseTheorem.html#1409" class="Bound">ifCaseProg</a>
                    <a id="2047" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="2049" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="2068" href="verificationBitcoinScripts.ifThenElseTheorem.html#1355" class="Bound">φfalse</a>  <a id="2076" class="Symbol">(</a><a id="2077" href="verificationBitcoinScripts.ifStack.html#634" class="InductiveConstructor">ifSkip</a> <a id="2084" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2086" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="2094" class="Symbol">)</a> <a id="2096" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;</a>

<a id="2099" class="Comment">-- Two conditions to be shown for the elseCaseProg</a>

      <a id="AssumptionIfThenElse.elseCaseDo"></a><a id="2157" href="verificationBitcoinScripts.ifThenElseTheorem.html#2157" class="Field">elseCaseDo</a>    <a id="2171" class="Symbol">:</a> <a id="2173" class="Symbol">(</a><a id="2174" href="verificationBitcoinScripts.ifThenElseTheorem.html#2174" class="Bound">x</a> <a id="2176" class="Symbol">:</a> <a id="2178" href="verificationBitcoinScripts.ifStack.html#592" class="Datatype">IfStackEl</a><a id="2187" class="Symbol">)</a> <a id="2189" class="Symbol">→</a> <a id="2191" href="verificationBitcoinScripts.ifStack.html#932" class="Function">IsActiveIfStackEl</a> <a id="2209" href="verificationBitcoinScripts.ifThenElseTheorem.html#2174" class="Bound">x</a>
                  <a id="2229" class="Symbol">→</a> <a id="2231" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="2233" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="2252" href="verificationBitcoinScripts.ifThenElseTheorem.html#1355" class="Bound">φfalse</a>  <a id="2260" class="Symbol">(</a><a id="2261" href="verificationBitcoinScripts.ifThenElseTheorem.html#2174" class="Bound">x</a> <a id="2263" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2265" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="2273" class="Symbol">)</a> <a id="2275" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;ⁱᶠᶠ</a>
                     <a id="2301" href="verificationBitcoinScripts.ifThenElseTheorem.html#1420" class="Bound">elseCaseProg</a>
                     <a id="2335" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="2337" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="2356" href="verificationBitcoinScripts.ifThenElseTheorem.html#1362" class="Bound">ψ</a>  <a id="2359" class="Symbol">(</a><a id="2360" href="verificationBitcoinScripts.ifThenElseTheorem.html#2174" class="Bound">x</a> <a id="2362" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2364" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="2372" class="Symbol">)</a> <a id="2374" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;</a>
      <a id="AssumptionIfThenElse.elseCaseSkip"></a><a id="2382" href="verificationBitcoinScripts.ifThenElseTheorem.html#2382" class="Field">elseCaseSkip</a>  <a id="2396" class="Symbol">:</a> <a id="2398" class="Symbol">(</a><a id="2399" href="verificationBitcoinScripts.ifThenElseTheorem.html#2399" class="Bound">x</a> <a id="2401" class="Symbol">:</a> <a id="2403" href="verificationBitcoinScripts.ifStack.html#592" class="Datatype">IfStackEl</a><a id="2412" class="Symbol">)</a>
                  <a id="2432" class="Symbol">→</a> <a id="2434" href="verificationBitcoinScripts.ifStack.html#1776" class="Function">IfStackElIsIfSkipOrElseSkip</a> <a id="2462" href="verificationBitcoinScripts.ifThenElseTheorem.html#2399" class="Bound">x</a>
                  <a id="2482" class="Symbol">→</a> <a id="2484" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="2486" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="2505" href="verificationBitcoinScripts.ifThenElseTheorem.html#1362" class="Bound">ψ</a>  <a id="2508" class="Symbol">(</a><a id="2509" href="verificationBitcoinScripts.ifThenElseTheorem.html#2399" class="Bound">x</a> <a id="2511" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2513" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="2521" class="Symbol">)</a> <a id="2523" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;ⁱᶠᶠ</a>
                       <a id="2551" href="verificationBitcoinScripts.ifThenElseTheorem.html#1420" class="Bound">elseCaseProg</a>
                     <a id="2585" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="2587" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="2606" href="verificationBitcoinScripts.ifThenElseTheorem.html#1362" class="Bound">ψ</a>  <a id="2609" class="Symbol">(</a><a id="2610" href="verificationBitcoinScripts.ifThenElseTheorem.html#2399" class="Bound">x</a> <a id="2612" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2614" href="verificationBitcoinScripts.ifThenElseTheorem.html#1302" class="Bound">ifStack₁</a><a id="2622" class="Symbol">)</a> <a id="2624" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;</a>

<a id="2627" class="Keyword">open</a> <a id="2632" href="verificationBitcoinScripts.ifThenElseTheorem.html#1280" class="Module">AssumptionIfThenElse</a> <a id="2653" class="Keyword">public</a>



<a id="ConclusionTmp"></a><a id="2663" href="verificationBitcoinScripts.ifThenElseTheorem.html#2663" class="Function">ConclusionTmp</a> <a id="2677" class="Symbol">:</a> <a id="2679" class="Symbol">(</a><a id="2680" href="verificationBitcoinScripts.ifThenElseTheorem.html#2680" class="Bound">ifStack₁</a> <a id="2689" class="Symbol">:</a> <a id="2691" href="verificationBitcoinScripts.ifStack.html#683" class="Function">IfStack</a><a id="2698" class="Symbol">)</a>
             <a id="2713" class="Symbol">(</a><a id="2714" href="verificationBitcoinScripts.ifThenElseTheorem.html#2714" class="Bound">φtrue</a> <a id="2720" href="verificationBitcoinScripts.ifThenElseTheorem.html#2720" class="Bound">φfalse</a> <a id="2727" href="verificationBitcoinScripts.ifThenElseTheorem.html#2727" class="Bound">ψ</a> <a id="2729" class="Symbol">:</a> <a id="2731" href="stackPredicate.html#911" class="Function">StackPredicate</a><a id="2745" class="Symbol">)</a>
             <a id="2760" class="Symbol">(</a><a id="2761" href="verificationBitcoinScripts.ifThenElseTheorem.html#2761" class="Bound">ifCaseProg</a> <a id="2772" href="verificationBitcoinScripts.ifThenElseTheorem.html#2772" class="Bound">elseCaseProg</a> <a id="2785" class="Symbol">:</a> <a id="2787" href="instruction.html#1861" class="Function">BitcoinScript</a><a id="2800" class="Symbol">)</a>
             <a id="2815" class="Symbol">→</a> <a id="2817" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2821" href="verificationBitcoinScripts.ifThenElseTheorem.html#2663" class="Function">ConclusionTmp</a> <a id="2835" href="verificationBitcoinScripts.ifThenElseTheorem.html#2835" class="Bound">ifStack₁</a> <a id="2844" href="verificationBitcoinScripts.ifThenElseTheorem.html#2844" class="Bound">φtrue</a> <a id="2850" href="verificationBitcoinScripts.ifThenElseTheorem.html#2850" class="Bound">φfalse</a> <a id="2857" href="verificationBitcoinScripts.ifThenElseTheorem.html#2857" class="Bound">ψ</a> <a id="2859" href="verificationBitcoinScripts.ifThenElseTheorem.html#2859" class="Bound">ifCaseProg</a> <a id="2870" href="verificationBitcoinScripts.ifThenElseTheorem.html#2870" class="Bound">elseCaseProg</a>
      <a id="2889" class="Symbol">=</a>  <a id="2892" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="2894" class="Symbol">(</a><a id="2895" href="verificationBitcoinScripts.predicate.html#1896" class="Function">truePred</a> <a id="2904" href="verificationBitcoinScripts.ifThenElseTheorem.html#2844" class="Bound">φtrue</a> <a id="2910" href="verificationBitcoinScripts.predicate.html#1482" class="Function Operator">∧p</a> <a id="2913" href="verificationBitcoinScripts.predicate.html#1091" class="Function">ifStackPredicate</a> <a id="2930" href="verificationBitcoinScripts.ifThenElseTheorem.html#2835" class="Bound">ifStack₁</a><a id="2938" class="Symbol">)</a> <a id="2940" href="verificationBitcoinScripts.predicate.html#1568" class="Function Operator">⊎p</a>
           <a id="2954" class="Symbol">(</a><a id="2955" href="verificationBitcoinScripts.predicate.html#2277" class="Function">falsePred</a> <a id="2965" href="verificationBitcoinScripts.ifThenElseTheorem.html#2850" class="Bound">φfalse</a> <a id="2972" href="verificationBitcoinScripts.predicate.html#1482" class="Function Operator">∧p</a> <a id="2975" href="verificationBitcoinScripts.predicate.html#1091" class="Function">ifStackPredicate</a> <a id="2992" href="verificationBitcoinScripts.ifThenElseTheorem.html#2835" class="Bound">ifStack₁</a><a id="3000" class="Symbol">)</a> <a id="3002" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;ⁱᶠᶠ</a>
        <a id="3015" class="Symbol">((</a><a id="3017" href="instruction.html#1226" class="InductiveConstructor">opIf</a> <a id="3022" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3024" href="verificationBitcoinScripts.ifThenElseTheorem.html#2859" class="Bound">ifCaseProg</a> <a id="3035" href="libraries.listLib.html#559" class="Function Operator">++</a> <a id="3038" class="Symbol">(</a><a id="3039" href="instruction.html#1231" class="InductiveConstructor">opElse</a> <a id="3046" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3048" href="verificationBitcoinScripts.ifThenElseTheorem.html#2870" class="Bound">elseCaseProg</a><a id="3060" class="Symbol">))</a> <a id="3063" href="libraries.listLib.html#559" class="Function Operator">++</a> <a id="3066" class="Symbol">(</a><a id="3067" href="instruction.html#1238" class="InductiveConstructor">opEndIf</a> <a id="3075" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3077" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3080" class="Symbol">))</a>
         <a id="3092" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="3094" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="3113" href="verificationBitcoinScripts.ifThenElseTheorem.html#2857" class="Bound">ψ</a>  <a id="3116" href="verificationBitcoinScripts.ifThenElseTheorem.html#2835" class="Bound">ifStack₁</a> <a id="3125" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;</a>

<a id="IfThenElseTheorem1Tmp"></a><a id="3128" href="verificationBitcoinScripts.ifThenElseTheorem.html#3128" class="Function">IfThenElseTheorem1Tmp</a> <a id="3150" class="Symbol">:</a> <a id="3152" href="Agda.Primitive.html#326" class="Primitive">Set₁</a>
<a id="3157" href="verificationBitcoinScripts.ifThenElseTheorem.html#3128" class="Function">IfThenElseTheorem1Tmp</a> <a id="3179" class="Symbol">=</a> <a id="3181" class="Symbol">(</a><a id="3182" href="verificationBitcoinScripts.ifThenElseTheorem.html#3182" class="Bound">ifStack₁</a> <a id="3191" class="Symbol">:</a> <a id="3193" href="verificationBitcoinScripts.ifStack.html#683" class="Function">IfStack</a><a id="3200" class="Symbol">)</a>
                   <a id="3221" class="Symbol">(</a><a id="3222" href="verificationBitcoinScripts.ifThenElseTheorem.html#3222" class="Bound">φtrue</a> <a id="3228" href="verificationBitcoinScripts.ifThenElseTheorem.html#3228" class="Bound">φfalse</a> <a id="3235" href="verificationBitcoinScripts.ifThenElseTheorem.html#3235" class="Bound">ψ</a> <a id="3237" class="Symbol">:</a> <a id="3239" href="stackPredicate.html#911" class="Function">StackPredicate</a><a id="3253" class="Symbol">)</a>
                   <a id="3274" class="Symbol">(</a><a id="3275" href="verificationBitcoinScripts.ifThenElseTheorem.html#3275" class="Bound">ifCaseProg</a> <a id="3286" href="verificationBitcoinScripts.ifThenElseTheorem.html#3286" class="Bound">elseCaseProg</a> <a id="3299" class="Symbol">:</a> <a id="3301" href="instruction.html#1861" class="Function">BitcoinScript</a><a id="3314" class="Symbol">)</a>
                   <a id="3335" class="Symbol">→</a> <a id="3337" href="verificationBitcoinScripts.ifThenElseTheorem.html#1280" class="Record">AssumptionIfThenElse</a> <a id="3358" href="verificationBitcoinScripts.ifThenElseTheorem.html#3182" class="Bound">ifStack₁</a> <a id="3367" href="verificationBitcoinScripts.ifThenElseTheorem.html#3222" class="Bound">φtrue</a> <a id="3373" href="verificationBitcoinScripts.ifThenElseTheorem.html#3228" class="Bound">φfalse</a> <a id="3380" href="verificationBitcoinScripts.ifThenElseTheorem.html#3235" class="Bound">ψ</a> <a id="3382" href="verificationBitcoinScripts.ifThenElseTheorem.html#3275" class="Bound">ifCaseProg</a> <a id="3393" href="verificationBitcoinScripts.ifThenElseTheorem.html#3286" class="Bound">elseCaseProg</a>
                   <a id="3425" class="Symbol">→</a> <a id="3427" href="verificationBitcoinScripts.ifThenElseTheorem.html#2663" class="Function">ConclusionTmp</a> <a id="3441" href="verificationBitcoinScripts.ifThenElseTheorem.html#3182" class="Bound">ifStack₁</a> <a id="3450" href="verificationBitcoinScripts.ifThenElseTheorem.html#3222" class="Bound">φtrue</a> <a id="3456" href="verificationBitcoinScripts.ifThenElseTheorem.html#3228" class="Bound">φfalse</a> <a id="3463" href="verificationBitcoinScripts.ifThenElseTheorem.html#3235" class="Bound">ψ</a> <a id="3465" href="verificationBitcoinScripts.ifThenElseTheorem.html#3275" class="Bound">ifCaseProg</a> <a id="3476" href="verificationBitcoinScripts.ifThenElseTheorem.html#3286" class="Bound">elseCaseProg</a>


<a id="Conclusion"></a><a id="3491" href="verificationBitcoinScripts.ifThenElseTheorem.html#3491" class="Function">Conclusion</a> <a id="3502" class="Symbol">:</a> <a id="3504" class="Symbol">(</a><a id="3505" href="verificationBitcoinScripts.ifThenElseTheorem.html#3505" class="Bound">ifStack₁</a> <a id="3514" class="Symbol">:</a> <a id="3516" href="verificationBitcoinScripts.ifStack.html#683" class="Function">IfStack</a><a id="3523" class="Symbol">)</a>
             <a id="3538" class="Symbol">(</a><a id="3539" href="verificationBitcoinScripts.ifThenElseTheorem.html#3539" class="Bound">φtrue</a> <a id="3545" href="verificationBitcoinScripts.ifThenElseTheorem.html#3545" class="Bound">φfalse</a> <a id="3552" href="verificationBitcoinScripts.ifThenElseTheorem.html#3552" class="Bound">ψ</a> <a id="3554" class="Symbol">:</a> <a id="3556" href="stackPredicate.html#911" class="Function">StackPredicate</a><a id="3570" class="Symbol">)</a>
             <a id="3585" class="Symbol">(</a><a id="3586" href="verificationBitcoinScripts.ifThenElseTheorem.html#3586" class="Bound">ifCaseProg</a> <a id="3597" href="verificationBitcoinScripts.ifThenElseTheorem.html#3597" class="Bound">elseCaseProg</a> <a id="3610" class="Symbol">:</a> <a id="3612" href="instruction.html#1861" class="Function">BitcoinScript</a><a id="3625" class="Symbol">)</a>
             <a id="3640" class="Symbol">→</a> <a id="3642" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="3646" href="verificationBitcoinScripts.ifThenElseTheorem.html#3491" class="Function">Conclusion</a> <a id="3657" href="verificationBitcoinScripts.ifThenElseTheorem.html#3657" class="Bound">ifStack₁</a> <a id="3666" href="verificationBitcoinScripts.ifThenElseTheorem.html#3666" class="Bound">φtrue</a> <a id="3672" href="verificationBitcoinScripts.ifThenElseTheorem.html#3672" class="Bound">φfalse</a> <a id="3679" href="verificationBitcoinScripts.ifThenElseTheorem.html#3679" class="Bound">ψ</a> <a id="3681" href="verificationBitcoinScripts.ifThenElseTheorem.html#3681" class="Bound">ifCaseProg</a> <a id="3692" href="verificationBitcoinScripts.ifThenElseTheorem.html#3692" class="Bound">elseCaseProg</a>
      <a id="3711" class="Symbol">=</a>   <a id="3715" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a> <a id="3717" class="Symbol">(</a><a id="3718" href="verificationBitcoinScripts.predicate.html#1896" class="Function">truePred</a> <a id="3727" href="verificationBitcoinScripts.ifThenElseTheorem.html#3666" class="Bound">φtrue</a> <a id="3733" href="verificationBitcoinScripts.predicate.html#1482" class="Function Operator">∧p</a> <a id="3736" href="verificationBitcoinScripts.predicate.html#1091" class="Function">ifStackPredicate</a> <a id="3753" href="verificationBitcoinScripts.ifThenElseTheorem.html#3657" class="Bound">ifStack₁</a><a id="3761" class="Symbol">)</a> <a id="3763" href="verificationBitcoinScripts.predicate.html#1568" class="Function Operator">⊎p</a>
                 <a id="3783" class="Symbol">(</a><a id="3784" href="verificationBitcoinScripts.predicate.html#2277" class="Function">falsePred</a> <a id="3794" href="verificationBitcoinScripts.ifThenElseTheorem.html#3672" class="Bound">φfalse</a> <a id="3801" href="verificationBitcoinScripts.predicate.html#1482" class="Function Operator">∧p</a> <a id="3804" href="verificationBitcoinScripts.predicate.html#1091" class="Function">ifStackPredicate</a> <a id="3821" href="verificationBitcoinScripts.ifThenElseTheorem.html#3657" class="Bound">ifStack₁</a><a id="3829" class="Symbol">)</a> <a id="3831" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;ⁱᶠᶠ</a>
                 <a id="3853" class="Symbol">((</a><a id="3855" href="instruction.html#1226" class="InductiveConstructor">opIf</a> <a id="3860" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3862" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3865" class="Symbol">)</a> <a id="3867" href="libraries.listLib.html#559" class="Function Operator">++</a> <a id="3870" href="verificationBitcoinScripts.ifThenElseTheorem.html#3681" class="Bound">ifCaseProg</a> <a id="3881" href="libraries.listLib.html#559" class="Function Operator">++</a> <a id="3884" class="Symbol">(</a><a id="3885" href="instruction.html#1231" class="InductiveConstructor">opElse</a> <a id="3892" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3894" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3897" class="Symbol">)</a> <a id="3899" href="libraries.listLib.html#559" class="Function Operator">++</a> <a id="3902" href="verificationBitcoinScripts.ifThenElseTheorem.html#3692" class="Bound">elseCaseProg</a> <a id="3915" href="libraries.listLib.html#559" class="Function Operator">++</a> <a id="3918" class="Symbol">(</a><a id="3919" href="instruction.html#1238" class="InductiveConstructor">opEndIf</a> <a id="3927" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3929" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3932" class="Symbol">))</a>
          <a id="3945" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&lt;</a>  <a id="3948" href="verificationBitcoinScripts.predicate.html#2439" class="Function">liftStackPred2Pred</a> <a id="3967" href="verificationBitcoinScripts.ifThenElseTheorem.html#3679" class="Bound">ψ</a>  <a id="3970" href="verificationBitcoinScripts.ifThenElseTheorem.html#3657" class="Bound">ifStack₁</a> <a id="3979" href="verificationBitcoinScripts.hoareTriple.html#1193" class="Record Operator">&gt;</a>


<a id="3983" class="Comment">-- the statement of the theorem we want to prove is</a>

<a id="IfThenElseTheorem1"></a><a id="4036" href="verificationBitcoinScripts.ifThenElseTheorem.html#4036" class="Function">IfThenElseTheorem1</a> <a id="4055" class="Symbol">:</a> <a id="4057" href="Agda.Primitive.html#326" class="Primitive">Set₁</a>
<a id="4062" href="verificationBitcoinScripts.ifThenElseTheorem.html#4036" class="Function">IfThenElseTheorem1</a> <a id="4081" class="Symbol">=</a> <a id="4083" class="Symbol">(</a><a id="4084" href="verificationBitcoinScripts.ifThenElseTheorem.html#4084" class="Bound">ifStack₁</a> <a id="4093" class="Symbol">:</a> <a id="4095" href="verificationBitcoinScripts.ifStack.html#683" class="Function">IfStack</a><a id="4102" class="Symbol">)</a>
                   <a id="4123" class="Symbol">(</a><a id="4124" href="verificationBitcoinScripts.ifThenElseTheorem.html#4124" class="Bound">φtrue</a> <a id="4130" href="verificationBitcoinScripts.ifThenElseTheorem.html#4130" class="Bound">φfalse</a> <a id="4137" href="verificationBitcoinScripts.ifThenElseTheorem.html#4137" class="Bound">ψ</a> <a id="4139" class="Symbol">:</a> <a id="4141" href="stackPredicate.html#911" class="Function">StackPredicate</a><a id="4155" class="Symbol">)</a>
                   <a id="4176" class="Symbol">(</a><a id="4177" href="verificationBitcoinScripts.ifThenElseTheorem.html#4177" class="Bound">ifCaseProg</a> <a id="4188" href="verificationBitcoinScripts.ifThenElseTheorem.html#4188" class="Bound">elseCaseProg</a> <a id="4201" class="Symbol">:</a> <a id="4203" href="instruction.html#1861" class="Function">BitcoinScript</a><a id="4216" class="Symbol">)</a>
                   <a id="4237" class="Symbol">→</a>  <a id="4240" href="verificationBitcoinScripts.ifThenElseTheorem.html#1280" class="Record">AssumptionIfThenElse</a> <a id="4261" href="verificationBitcoinScripts.ifThenElseTheorem.html#4084" class="Bound">ifStack₁</a>  <a id="4271" href="verificationBitcoinScripts.ifThenElseTheorem.html#4124" class="Bound">φtrue</a> <a id="4277" href="verificationBitcoinScripts.ifThenElseTheorem.html#4130" class="Bound">φfalse</a> <a id="4284" href="verificationBitcoinScripts.ifThenElseTheorem.html#4137" class="Bound">ψ</a> <a id="4286" href="verificationBitcoinScripts.ifThenElseTheorem.html#4177" class="Bound">ifCaseProg</a> <a id="4297" href="verificationBitcoinScripts.ifThenElseTheorem.html#4188" class="Bound">elseCaseProg</a>
                   <a id="4329" class="Symbol">→</a> <a id="4331" href="verificationBitcoinScripts.ifThenElseTheorem.html#3491" class="Function">Conclusion</a> <a id="4342" href="verificationBitcoinScripts.ifThenElseTheorem.html#4084" class="Bound">ifStack₁</a> <a id="4351" href="verificationBitcoinScripts.ifThenElseTheorem.html#4124" class="Bound">φtrue</a> <a id="4357" href="verificationBitcoinScripts.ifThenElseTheorem.html#4130" class="Bound">φfalse</a> <a id="4364" href="verificationBitcoinScripts.ifThenElseTheorem.html#4137" class="Bound">ψ</a> <a id="4366" href="verificationBitcoinScripts.ifThenElseTheorem.html#4177" class="Bound">ifCaseProg</a> <a id="4377" href="verificationBitcoinScripts.ifThenElseTheorem.html#4188" class="Bound">elseCaseProg</a>


</pre></body></html>